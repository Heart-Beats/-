### python相关



[TOC]

### 1. 输出与输入

- **print()**

    - `print()`在括号中加上字符串，就可以向屏幕上输出指定的文字；

    - `print()`函数也可以接受多个字符串，用逗号“,”隔开，这样它则会依次打印每个字符串，中间以空格隔开；

    - `print()`也可以打印其他类型的数据，或者表达式结果。

- **input()**

    可以让用户输入字符串，并存放到一个变量里：

    ```python
    name = input()
    print('hello,', name)
    ```

    `input()`也可以让你显示一个字符串来提示用户输入信息：

    ```python
    name = input('please input your name: ')
    print('hello,', name)
    ```

### 2. python基础

- python中单引号与双引号等效，但推荐优先使用单引号，因为打出来更快。
- 以`#`开头的语句是注释，注释是给人看的，可以是任意内容，解释器会忽略掉注释。
- 当语句以冒号`:`结尾时，缩进的语句视为代码块。按照约定俗成的管理，应该始终坚持使用4个空格的缩进。
- Python程序是大小写敏感的，如果写错了大小写，程序会报错。



#### 2.1 数据类型

在Python中，能够直接处理的数据类型有以下几种：

- 整数

    Python可以处理任意大小的整数，也包括负整数，没有java中的表数范围

- 浮点数

    浮点数也就是小数，对于很大或很小的浮点数，就必须用科学计数法表示，把10用e替代，如：1.23x10^9^等于`1.23e9`

    **注意：**整数运算永远是精确的，而浮点数运算则可能会有四舍五入的误差。

    **在python中有两种除法：**

    - 1. 浮点除**`/`**：计算结果精确但始终是浮点数，即使是两个整数恰好整除，结果也是浮点数：

            ```python
            >>> 9 / 3
            3.0
            ```

    - 2. 整除**`//`**：称为地板除，两个整数的除法仍然是整数，相当于取整运算：

            ```python
            >>> 10 // 3
            3
            ```

    由于`//`除法只取结果的整数部分，因此Python也提供一个余数运算

    - 3. 取余**`%`**：得到两个整数相除的余数：

            ```python
            >>> 10 % 3
            1
            ```

- 字符串

    字符串是以单引号`'`或双引号`"`括起来的任意文本，可以用转义字符`\`来标识字符串内部的`'`或者`"`：

    ```python
    'I\'m \"OK\"!'
    
    #表示的字符串内容是：
    I'm "OK"!
    ```

    - 转义字符

        转义字符`\`可以转义很多字符，比如**`\n`**表示换行，**`\t`**表示制表符，**`\\`**表示的转义符`\`，如果字符串里面有很多字符都需要转义，就需要加很多`\`，为了简化，Python还允许用**`r''`**表示`''`内部的字符串默认不转义：

        ```python
        >>> print('\\\t\\')
        \       \
        >>> print(r'\\\t\\')
        \\\t\\
        ```

        如果字符串内部有很多换行，用`\n`写在一行里不好阅读，为了简化，Python允许用**`'''多行字符串'''`**的格式表示多行内容：

        ```python
        >>> print('''line1
        ... line2
        ... line3''')
        line1
        line2
        line3
        ```

        **注意：**`...`是提示符，交互式命令行内输入`'''`，在输入多行内容时，提示符就会由`>>>`变为`...`

- 布尔值

    一个布尔值只有`True`、`False`两种值，在Python中，可以直接用`True`、`False`表示布尔值（**注意大小写**），也可以通过布尔运算计算出来：

    ```python
    >>> True
    True
    >>> False
    False
    >>> 3 > 2
    True
    >>> 3 > 5
    False
    ```

    布尔值可以用**`and`**、**`or`**和**`not`**运算，分别对应逻辑运算中的与、或、非。

- 空值

    空值是Python里一个特殊的值，用**`None`**表示。



- **变量**

    变量在程序中是用来便于访问数据的，它可以是任意数据类型。python中，变量名必须是字母、数字和`_`的组合，且不能用数字开头，同一个变量可以反复赋值，而且可以是不同类型的变量：

    ```python
    a = 123 # a是整数
    print(a)
    a = 'ABC' # a变为字符串
    print(a)
    ```

    这种变量本身类型不固定的语言称之为**动态语言**，与之对应的是**静态语言**。静态语言在定义变量时必须指定变量类型，如果赋值的时候类型不匹配，就会报错。例如：Java就是静态语言

- **常量**

    所谓常量就是不能变的变量，比如常用的数学常数π就是一个常量。在Python中，通常用全部大写的变量名表示常量：

    ```python
    PI = 3.14159265359
    ```

    但事实上`PI`仍然是一个变量，Python根本没有任何机制保证`PI`不会被改变，所以，用全部大写的变量名表示常量只是一个习惯上的用法，**python中没有绝对的常量**。



#### 2.2  字符串和编码

> 由于Python源代码也是一个文本文件，所以，**当源代码中包含中文的时候，保存源代码就需要指定保存为`UTF-8`编码。当Python解释器读取源代码时，为了让它按`UTF-8`编码读取，我们通常需要在文件开头加上这两行：**
>
> ```
> #!/usr/bin/env python3
> # -*- coding: utf-8 -*-
> ```
>
> 1. 第一行注释是为了告诉Linux/OS X系统，这是一个Python可执行程序，Windows系统会忽略这个注释；
> 2. 第二行注释是为了告诉Python解释器，按照UTF-8编码读取源代码，否则，你在源代码中写的中文输出可能会有乱码，python2中必须加上，因为它的解释器默认以`ASCII`编码读取。



- `ASCII`编码：主要对大小写英文字母、数字和一些符号进行编码，大小为1B；

- `Unicode`编码：Unicode把所有语言都统一到一套编码里，因此也叫万国码，Unicode标准也在不断发展，但最常用的是用两个字节表示一个字符（如果要用到非常偏僻的字符，就需要4个字节）。

- `UTF-8`编码：可变长编码，UTF-8编码把一个Unicode字符根据不同的数字大小编码成1-6个字节，常用的英文字母被编码成1个字节，汉字通常是3个字节，只有很生僻的字符才会被编码成4-6个字节。如果你要传输的文本包含大量英文字符，用UTF-8编码就能节省很多空间。

    **注意：ASCII编码实际上可以被看成是UTF-8编码的一部分。**

**现在计算机系统通用的字符编码工作方式：**

​	在计算机内存中，统一使用Unicode编码，当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码。



- **Python的字符串：在最新的Python 3版本中，字符串是以Unicode编码的**

    - 对于单个字符的编码，Python提供了**`ord()`**函数获取字符的整数表示，**`chr()`**函数把编码转换为对应的字符：

        ```python
        >>> ord('A')
        65
        >>> ord('中')
        20013
        >>> chr(66)
        'B'
        >>> chr(25991)
        '文'
        ```

        如果知道字符的整数编码，还可以用十六进制这么写`str`：

        ```python
        #\u表示Unicode码
        >>> '\u4e2d\u6587'
        '中文'
        ```

    - 由于Python的字符串类型是`str`，在内存中以Unicode表示，一个字符对应若干个字节。为了方便传输和保存，通常将`str`变为以字节为单位的`bytes`类型。

        Python对`bytes`类型的数据用**带`b`前缀的单引号或双引号**表示，相当于强制类型转换成`bytes`：

        ```python
        x = b'ABC'
        ```

    - **编码：**以Unicode表示的`str`通过**`encode()`**方法编码为指定的`bytes`类型：

        ```python
        >>> 'ABC'.encode('ascii')
        b'ABC'
        >>> '中文'.encode('utf-8')
        b'\xe4\xb8\xad\xe6\x96\x87'
        ```

    - **解码：**如果我们从网络或磁盘上读取了字节流，那么读到的数据就是`bytes`。要把`bytes`变为`str`，就需要用**`decode()`**方法：

        ```python
        >>> b'\xe4\xb8\xad\xe6\x96\x87'.decode('utf-8')
        '中文'
        ```

        - 如果`bytes`中包含无法解码的字节，`decode()`方法会报错：

            ```python
            >>> b'\xe4\xb8\xad\xff'.decode('utf-8')
            Traceback (most recent call last):
              ...
            UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 3: invalid start byte
            ```

        - 如果`bytes`中只有一小部分无效的字节，可以传入`errors='ignore'`忽略错误的字节：

            ```python
            >>> b'\xe4\xb8\xad\xff'.decode('utf-8', errors='ignore')
            '中'
            ```

    - **字符长度：**可以用**`len()`**函数计算`str`包含多少个字符：

        ```python
        >>> len('ABC')
        3
        >>> len('中文')
        2
        ```

    - **字节个数：**可以用**`len()`**函数计算`bytes`的字节数：

        ```python
        >>> len(b'ABC')
        3
        >>> len(b'\xe4\xb8\xad\xe6\x96\x87')
        6
        >>> len('中文'.encode('utf-8'))
        6
        ```



    **注意：**

    ​	在操作字符串时，我们经常遇到`str`和`bytes`的互相转换。为了避免乱码问题，**应当始终坚持使用`UTF-8`编码对`str`和`bytes`进行转换**。


